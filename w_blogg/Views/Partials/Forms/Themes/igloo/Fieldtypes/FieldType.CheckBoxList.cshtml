@model Umbraco.Forms.Mvc.Models.FieldViewModel
@using Umbraco.Forms.Mvc

@{ var i = 0; }
          
<span class="checkboxlist" id="@Model.Id">
@foreach (Umbraco.Forms.Mvc.Models.PrevalueViewModel pv in Model.PreValues)  
{
    <label class="cb-wrap" for="@string.Concat(Model.Id,"_",i)">
    
        @pv.Value

        <input type="checkbox" 
               class="@Html.GetFormFieldClass(Model.FieldTypeName)" 
               name="@Model.Name" id="@string.Concat(Model.Id,"_",i)" value="@pv.Value" 
        @if (Model.Mandatory) {<text>data-val="true" data-val-requiredlist="@Model.RequiredErrorMessage"</text>}
        @if (Model.ContainsValue(pv.Value)){<text>checked="checked"</text>}/>
    
    
        <span class="checkmark"></span>

        @{ i++; }
    
    </label>
}
</span>